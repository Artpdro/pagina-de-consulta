<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Consulta CNPJ</title>
<style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
    h1 { text-align: center; }
    input, button { padding: 8px; font-size: 14px; margin: 5px; }
    table { border-collapse: collapse; width: 100%; margin-top: 15px; background: white; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    th { background: #eee; }
</style>
</head>
<body>

<h1>Consulta de CNPJ</h1>

<label for="cnpjInput">Digite o CNPJ:</label>
<input type="text" id="cnpjInput" placeholder="00.000.000/0000-00">
<button onclick="buscarCNPJ()">Consultar</button>

<table id="resultado" style="display:none;">
    <thead>
        <tr>
            <th>CNPJ</th>
            <th>Nome</th>
            <th>Endere√ßo</th>
            <th>Telefone</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
let dadosCNPJ = [];

// Carrega dados locais do JSON
fetch('cnpj.json')
    .then(res => res.json())
    .then(data => { dadosCNPJ = data; })
    .catch(err => alert("Erro ao carregar dados: " + err));

function buscarCNPJ() {
    const input = document.getElementById("cnpjInput").value.trim();
    const tabela = document.getElementById("resultado");
    const corpo = tabela.querySelector("tbody");
    corpo.innerHTML = "";

    const resultados = dadosCNPJ.filter(item => item.cnpj.includes(input));

    if (resultados.length > 0) {
        tabela.style.display = "table";
        resultados.forEach(r => {
            corpo.innerHTML += `
                <tr>
                    <td>${r.cnpj}</td>
                    <td>${r.nome}</td>
                    <td>${r.endereco}</td>
                    <td>${r.telefone}</td>
                </tr>
            `;
        });
    } else {
        tabela.style.display = "none";
        alert("Nenhum CNPJ encontrado.");
    }
}
</script>

</body>
</html>
